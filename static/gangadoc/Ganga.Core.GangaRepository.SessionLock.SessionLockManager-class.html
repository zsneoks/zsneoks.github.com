<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Ganga.Core.GangaRepository.SessionLock.SessionLockManager</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="Ganga-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="Ganga-module.html">Package&nbsp;Ganga</a> ::
        <a href="Ganga.Core-module.html">Package&nbsp;Core</a> ::
        <a href="Ganga.Core.GangaRepository-module.html">Package&nbsp;GangaRepository</a> ::
        <a href="Ganga.Core.GangaRepository.SessionLock-module.html">Module&nbsp;SessionLock</a> ::
        Class&nbsp;SessionLockManager
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="Ganga.Core.GangaRepository.SessionLock.SessionLockManager-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class SessionLockManager</h1><p class="nomargin-top"><span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager">source&nbsp;code</a></span></p>
<pre class="base-tree">
object --+
         |
        <strong class="uidshort">SessionLockManager</strong>
</pre>

<hr />
<pre class="literalblock">
Class with thread that keeps a global lock file that synchronizes
ID and counter access across Ganga sessions.
DEVELOPER WARNING: On NFS, files that are not locked with lockf (NOT flock) will 
NOT be synchronized across clients, even if a global lock file is used!
Interface:
    * startup() starts the session, automatically called on init
    * shutdown() stops the thread, FREES ALL LOCKS
    * make_new_ids(n) returns n new (locked) ids
    * lock_ids(ids) returns the ids that were successfully locked
    * release_ids(ids) returns the ids that were successfully released (now: all)
All access to an instance of this class MUST be synchronized!
Should ONLY raise RepositoryError (if possibly-corrupting errors are found)

</pre>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="mkdir"></a><span class="summary-sig-name">mkdir</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">dn</span>)</span><br />
      Make sure the given directory exists</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.mkdir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Ganga.Core.GangaRepository.SessionLock.SessionLockManager-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">repo</span>,
        <span class="summary-sig-arg">root</span>,
        <span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">minimum_count</span>=<span class="summary-sig-default">0</span>)</span><br />
      x.__init__(...) initializes x; see help(type(x)) for signature</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="startup"></a><span class="summary-sig-name">startup</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.startup">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="shutdown"></a><span class="summary-sig-name">shutdown</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Shutdown the thread and locking system (on ganga shutdown or repo 
      error)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.shutdown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="global_lock_setup"></a><span class="summary-sig-name">global_lock_setup</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.global_lock_setup">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="global_lock_acquire"></a><span class="summary-sig-name">global_lock_acquire</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.global_lock_acquire">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="global_lock_release"></a><span class="summary-sig-name">global_lock_release</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.global_lock_release">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Ganga.Core.GangaRepository.SessionLock.SessionLockManager-class.html#session_read" class="summary-sig-name">session_read</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fn</span>)</span><br />
      Reads a session file and returns a set of IDs locked by that session.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.session_read">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Ganga.Core.GangaRepository.SessionLock.SessionLockManager-class.html#session_write" class="summary-sig-name">session_write</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Writes the locked set to the session file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.session_write">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Ganga.Core.GangaRepository.SessionLock.SessionLockManager-class.html#cnt_read" class="summary-sig-name">cnt_read</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Tries to read the counter file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.cnt_read">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Ganga.Core.GangaRepository.SessionLock.SessionLockManager-class.html#cnt_write" class="summary-sig-name">cnt_write</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Writes the counter to the counter file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.cnt_write">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="make_new_ids"></a><span class="summary-sig-name">make_new_ids</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">n</span>)</span><br />
      Locks the next n available ids and returns them as a list Raise 
      RepositoryError on fatal error</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.make_new_ids">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="lock_ids"></a><span class="summary-sig-name">lock_ids</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ids</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.lock_ids">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="release_ids"></a><span class="summary-sig-name">release_ids</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ids</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.release_ids">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="check"></a><span class="summary-sig-name">check</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.check">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Ganga.Core.GangaRepository.SessionLock.SessionLockManager-class.html#get_lock_session" class="summary-sig-name">get_lock_session</a>(<span class="summary-sig-arg">id</span>)</span><br />
      Tries to determine the session that holds the lock on id for 
      information purposes, and return an informative string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.get_lock_session">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="get_other_sessions"></a><span class="summary-sig-name">get_other_sessions</span>()</span><br />
      Tries to determine the other sessions that are active and returns an 
      informative string for each of them.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.get_other_sessions">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Ganga.Core.GangaRepository.SessionLock.SessionLockManager-class.html#reap_locks" class="summary-sig-name">reap_locks</a>(<span class="summary-sig-arg">self</span>)</span><br />
      reap_locks() --&gt; True/False Remotely clear all foreign locks from 
      the session.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.reap_locks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="session_to_info"></a><span class="summary-sig-name">session_to_info</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">session</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.session_to_info">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">repo</span>,
        <span class="sig-arg">root</span>,
        <span class="sig-arg">name</span>,
        <span class="sig-arg">minimum_count</span>=<span class="sig-default">0</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
  <dl class="fields">
    <dt>Overrides:
        object.__init__
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="session_read"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">session_read</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.session_read">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Reads a session file and returns a set of IDs locked by that session. 
  The global lock MUST be held for this function to work, although on NFS 
  additional locking is done Raises RepositoryError if severe access 
  problems occur (corruption otherwise!)</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="session_write"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">session_write</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.session_write">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Writes the locked set to the session file. The global lock MUST be 
  held for this function to work, although on NFS additional locking is 
  done Raises RepositoryError if session file is inaccessible</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="cnt_read"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">cnt_read</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.cnt_read">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Tries to read the counter file. Raises ValueError (invalid contents) 
  Raises OSError (no access/does not exist) Raises RepositoryError 
  (fatal)</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="cnt_write"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">cnt_write</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.cnt_write">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Writes the counter to the counter file. The global lock MUST be held 
  for this function to work correctly Raises OSError if count file is 
  inaccessible</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="get_lock_session"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_lock_session</span>(<span class="sig-arg">id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.get_lock_session">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Tries to determine the session that holds the lock on id for 
  information purposes, and return an informative string. Returns None on 
  failure</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="reap_locks"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">reap_locks</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Ganga.Core.GangaRepository.SessionLock-pysrc.html#SessionLockManager.reap_locks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>reap_locks() --&gt; True/False Remotely clear all foreign locks from 
  the session. WARNING: This is not nice. Returns True on success, False on
  error.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="Ganga-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Mon Jun 25 10:35:17 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
